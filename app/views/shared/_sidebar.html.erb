<div class="sidebar--wrapper">
  <% if user_signed_in? %>
    <div class="card--container card--container-padding">
      <%= link_to user_path(current_user), style: "text-align: center;" do %>
        <img src="<%= current_user.avatar_url %>" class="user-avatar" id="user-avatar" width="80" height="80">
        <h3 style="margin: 8px 0px 0px 0px;"><%= current_user.name %></h3>
      <% end %>
      <div class="horizontal-line--large"></div>
      <div class="menu-button--wrapper">
        <%= link_to root_path, class: request.fullpath == root_path ? 'menu-button--item-active' : 'menu-button--item' do %>
          <img class="menu-button--icon" src="/icons/icons8-home.svg" width="22">
          <span class="menu-button--name">Home</span>
        <% end %>
      </div>
      <div class="menu-button--wrapper">
        <%= link_to folders_path, class: request.fullpath == folders_path ? 'menu-button--item-active' : 'menu-button--item' do %>
          <img class="menu-button--icon" src="/icons/icons8-folder.svg" width="22">
          <span class="menu-button--name">Folders</span>
        <% end %>
      </div>
      <div class="menu-button--wrapper">
        <%= link_to snippets_path, class: request.fullpath == snippets_path ? 'menu-button--item-active' : 'menu-button--item' do %>
          <img class="menu-button--icon" src="/icons/icons8-file.svg" width="22">
          <span class="menu-button--name">Snippets</span>
        <% end %>
      </div>
    </div>

    <div class="card--container card--container-padding" style="text-align: center;">
      <%= link_to(snippets_modals_new_path, data: { controller: 'modal', action: 'modal#present', modal_url: snippets_modals_new_path }, class: 'sidebar--new-snippet') do %>
        <span>NEW SNIPPET</span>
      <% end %>
    </div>

    <div class="card--container card--container-padding-horizontal" data-controller="list" data-list-url-value="<%= users_path(limit: 5) %>">
      <h3 class="text-center no-margin-top margin-bottom">Connect</h3>
      <div>
        <% User.where.not(id: current_user.following.pluck(:id) << current_user.id). limit(3).each do |user| %>
          <%= render partial: 'users/connect', locals: { user: user } %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
