<% content_for :cache_control do %>
  <meta name="turbolinks-cache-control" content="no-preview">
<% end %>

<div data-controller="infinite-scroll" data-infinite-scroll-base-url="<%= folders_path %>">
  <div style="display: flex; align-items: center; justify-content: space-between;" class="margin-top">

      <div class="searchbar">
        <input autofocus
          type="text"
          placeholder="Search"
          data-action="input->infinite-scroll#search"
          data-target="infinite-scroll.input"
        />
        <img src="/icons/search.svg">
      </div>

    <%= link_to('NEW FOLDER', folders_modals_new_path, data: { controller: 'modal', action: 'modal#present', modal_url: folders_modals_new_path }, class: 'button--cta-new') %>
  </div>

  <div class="margin-top"
    data-target="infinite-scroll.entries"
    data-action="scroll@window->infinite-scroll#scroll"
  >
    <%= render 'folders/folders' %>
  </div>

  <div data-target="infinite-scroll.pagination" class="hidden">
    <%= will_paginate @folders, container: false %>
  </div>
</div>
